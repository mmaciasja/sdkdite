{
  "name": "Magical Enhancement",
  "type": "script",
  "scope": "global",
  "command": "const modifiers = {\n  strength: 0,\n  constitution: 0,\n  dexterity: 0,\n  charisma: 0,\n  intelligence: 1,\n  strike: 0,\n  insight: 1,\n  speed: 0,\n  defense: 0,\n  will: 0,\n  health: 0,\n  power: 10\n};\n\nconst tokens = canvas.tokens.controlled;\nif (tokens.length === 0) {\n  ui.notifications.warn(\"Select tokens first!\");\n} else {\n  for (const token of tokens) {\n    if (token.actor) {\n      await token.document.setFlag(\"sdkdite\", \"regionModifiers\", {\n        regionId: \"magical-enhancement\",\n        modifiers: modifiers\n      });\n      token.actor.prepareData();\n      if (token.actor.sheet?.rendered) token.actor.sheet.render(false);\n    }\n  }\n  ChatMessage.create({\n    content: `<div class=\"sdkdite region-entry\"><h3>Magical Enhancement</h3><p><strong>Tokens:</strong> ${tokens.map(t => t.name).join(\", \")}</p><p class=\"modifiers\">+1 Intelligence, +1 Insight, +10 Power</p></div>`,\n    speaker: { alias: \"Region Effect\" }\n  });\n  ui.notifications.info(`Applied Magical Enhancement to ${tokens.length} token(s)`);\n}",
  "img": "icons/svg/aura.svg",
  "_id": "000mcrrgn006magi",
  "_key": "!macros!000mcrrgn006magi"
}
